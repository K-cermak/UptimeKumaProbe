<!DOCTYPE html>
<html lang="en" data-bs-theme="dark" class="h-100">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Config Editor for Uptime Kuma Probe Extension</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <script src="config.js"></script>
    <script src="script.js" defer></script>
    <script src="modals.js" defer></script>
    <script src='https://cdn.jsdelivr.net/gh/K-cermak/Enplated-Framework@enp-v3/enp-loader.min.js'></script>
    <style>
        tbody td {
            vertical-align: middle;
        }
    </style>
</head>
<body class="d-flex flex-column h-100">
    <header>
        <div class="d-flex mt-3 justify-content-center align-items-center mt-4">
            <h1 class="mt-0 text-center">Config Editor for Uptime Kuma Probe Extension</h1>
            <a href="https://github.com/K-cermak/UptimeKumaProbe" target="_blank" class="btn btn-secondary ms-4 me-2"><i class="bi bi-github"></i> GitHub</a>
            <a href="https://github.com/K-cermak/UptimeKumaProbe/blob/main/FAQ.md" target="_blank" class="btn btn-primary mx-2"><i class="bi bi-book"></i> Documentation</a>
        </div>
    </header>

    <main class="flex-shrink-0">
        <div class="d-flex justify-content-center mt-5 mb-4">
            <label class="btn btn-secondary mx-2"><i class="bi bi-upload"></i> Load Config
                <input class="form-control form-control-sm d-none" type="file" accept=".conf" id="uploadConfig">
            </label>

            <button class="btn btn-primary mx-2" id="downloadConfig"><i class="bi bi-download"></i> Download Config</button>
            <button class="btn btn-warning mx-2" id="verifyConfig"><i class="bi"></i> <span></span></button>
        </div>

        <div class="alert alert-warning container d-none" id="errorArea" role="alert">
            <h4 class="alert-heading"><i class="bi bi-exclamation-circle me-2"></i> Errors:</h4>
            <ul id="errorList"></ul>
        </div>

        <table class="table container" id="config">
            <thead>
                <tr>
                    <th scope="col"></th>
                    <th scope="col">
                        Name
                        <span class="d-inline-block" tabindex="0" data-bs-toggle="popover" data-bs-trigger="hover focus" data-bs-content="The name of the scan. Lower case letters, numbers or underscores only. Must be unique.">
                            <i class="bi bi-question-circle"></i>
                        </span>
                    </th>
                    <th scope="col">
                        Type
                        <span class="d-inline-block" tabindex="0" data-bs-toggle="popover" data-bs-trigger="hover focus" data-bs-content="Ping - ICMP ping, HTTP - HTTP/s request.">
                            <i class="bi bi-question-circle"></i>
                        </span>
                    </th>
                    <th scope="col">
                        Address
                        <span class="d-inline-block" tabindex="0" data-bs-toggle="popover" data-bs-trigger="hover focus" data-bs-content="Address for scan. Supports domain names, IPv4 and IPv6.">
                            <i class="bi bi-question-circle"></i>
                        </span>
                    </th>
                    <th scope="col">
                        Timeout
                        <span class="d-inline-block" tabindex="0" data-bs-toggle="popover" data-bs-trigger="hover focus" data-bs-content="Timeout in ms. If exceeded, the scan is aborted and the service is declared as unavailable. Only integer range 0-30000. 0 means unlimited (not recommended).">
                            <i class="bi bi-question-circle"></i>
                        </span></th>
                    <th scope="col">Status Codes
                        <span class="d-inline-block" tabindex="0" data-bs-toggle="popover" data-bs-trigger="hover focus" data-bs-content="Comma separated list of status codes that are considered as successful. Left empty to accept all status codes.">
                            <i class="bi bi-question-circle"></i>
                        </span>
                    </th>
                    <th scope="col">Keyword
                        <span class="d-inline-block" tabindex="0" data-bs-toggle="popover" data-bs-trigger="hover focus" data-bs-content="Keyword that must be present in the response. Left empty to accept all responses.">
                            <i class="bi bi-question-circle"></i>
                        </span>
                    </th>
                    <th scope="col"></th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>

        <div class="d-flex justify-content-center mt-3 mb-4">
            <button class="btn btn-primary mx-2" id="addRow"><i class="bi bi-plus"></i> Add Row</button>
        </div>
    </main>

    <footer class="footer mt-auto py-3 px-4 text-end" style="background-color: #0d131f;">
        <p class="text-muted m-0">© 2025 <a href="https://karlosoft.com/" target="_blank">Karel Čermák | Karlosoft</a>.</p>
        <p class="text-muted m-0">Config Editor v1.0., compatible with <a href="https://github.com/K-cermak/UptimeKumaProbe" target="_blank">Uptime Kuma Probe v1.0</a>.</p>
    </footer>
</body>
</html>